window.__require=function t(i,e,n){function s(o,r){if(!e[o]){if(!i[o]){var h=o.split("/");if(h=h[h.length-1],!i[h]){var a="function"==typeof __require&&__require;if(!r&&a)return a(h,!0);if(c)return c(h,!0);throw new Error("Cannot find module '"+o+"'")}}var p=e[o]={exports:{}};i[o][0].call(p.exports,function(t){return s(i[o][1][t]||t)},p,p.exports,t,i,e,n)}return e[o].exports}for(var c="function"==typeof __require&&__require,o=0;o<n.length;o++)s(n[o]);return s}({Car:[function(t,i,e){"use strict";cc._RF.push(i,"ebe30odiCNH44Dau2S5limU","Car"),cc.Class({extends:t("Entity"),onLoad:function(){this.spriteAnim=this.sprite.getComponent(cc.Animation)},start:function(){},move:function(t){this.node.x+=this.speed*t},update:function(t){this.move(t)}}),cc._RF.pop()},{Entity:"Entity"}],CharacterSprite:[function(t,i,e){"use strict";cc._RF.push(i,"817ccKpIRFJh7LfmXdhgJ6u","CharacterSprite"),cc.Class({extends:cc.Component,properties:{audio:{default:[],type:[cc.AudioClip]}},onHit:function(){cc.audioEngine.play(this.audio[0],!1,1)},onDeath:function(){cc.audioEngine.play(this.audio[1],!1,1)}}),cc._RF.pop()},{}],Character:[function(t,i,e){"use strict";cc._RF.push(i,"36a092yTrlLR6jveySgPqs+","Character"),cc.Class({extends:t("Entity"),onLoad:function(){this.spriteAnim=this.sprite.getComponent(cc.Animation),this.spriteAnim.play("idle"),this.distanceScale=1-.7,this.speedScale=this.distanceScale/5},start:function(){this.spriteAnim.play("walking"),this.isMoving=!0},update:function(t){this.move(t)},move:function(t){this.isMoving&&(this.node.y+=-this.speed*t,this.node.x+=-this.speed*t,this.node.scale+=this.speedScale*t)}}),cc._RF.pop()},{Entity:"Entity"}],Entity:[function(t,i,e){"use strict";cc._RF.push(i,"9d5321qOzVAVpGoNNt6FKor","Entity"),cc.Class({extends:cc.Component,properties:{speed:0,sprite:cc.Sprite,isMoving:!1}}),cc._RF.pop()},{}],GameManager:[function(t,i,e){"use strict";cc._RF.push(i,"096abIHq0BI6awCQKUqWlle","GameManager"),cc.Class({extends:cc.Component,properties:{greenLight:cc.Node,character:cc.Node,car:cc.Node},onLoad:function(){this.isCollided=!1},start:function(){},update:function(t){this.greenLight.getComponent("GreenLight").isLightOn&&(this.car.getComponent("Car").enabled=!0,this.character.getComponent("Character").enabled=!0),this.isCollided||this.collisionCheck(this.character,this.car)&&(this.isCollided=!0,this.character.getComponent("Character").isMoving=!1,this.character.getComponent("Character").spriteAnim.play("dying"))},collisionCheck:function(t,i){var e=t.position,n=i.position;return e.sub(n).mag()<(t.width+i.width)/2}}),cc._RF.pop()},{}],GreenLight:[function(t,i,e){"use strict";cc._RF.push(i,"2c508k1B85KA6K71zZayQGe","GreenLight"),cc.Class({extends:t("Light"),start:function(){this.turnOn()}}),cc._RF.pop()},{Light:"Light"}],Light:[function(t,i,e){"use strict";cc._RF.push(i,"0273f3eRp9FMZ5tpy60hoR8","Light"),cc.Class({extends:cc.Component,properties:{colorOn:cc.Color,colorOff:cc.Color,totalTimeOn:1,blinkInterval:.2,totalBlinks:3},onLoad:function(){this.node.color=this.colorOff,this.timer=0,this.isLightOn=!1,this.isBlinking=!1,this.blinkCount=0},turnOn:function(){this.isLightOn=!0,this.node.color=this.colorOn},turnOff:function(){this.isLightOn=!1,this.node.color=this.colorOff},blink:function(t){this.timer+=t,this.timer>=this.blinkInterval&&(this.isLightOn?this.turnOff():this.turnOn(),this.timer=0,this.blinkCount++,this.blinkCount>=2*this.totalBlinks&&(this.isBlinking=!1,this.turnOff()))}}),cc._RF.pop()},{}],RedLight:[function(t,i,e){"use strict";cc._RF.push(i,"cc615bwizFFM6bb5WMJobVP","RedLight"),cc.Class({extends:t("Light"),start:function(){this.turnOn()},update:function(t){this.isLightOn&&!this.isBlinking&&(this.timer+=t,this.timer>=this.totalTimeOn&&(this.turnOff(),this.blinkCount=0,this.isBlinking=!0,this.timer=0)),this.isBlinking&&this.blink(t)}}),cc._RF.pop()},{Light:"Light"}],TrafficLights:[function(t,i,e){"use strict";cc._RF.push(i,"494a3H3NDRPoYD5W/GbmOe3","TrafficLights"),cc.Class({extends:cc.Component,properties:{redLight:cc.Node,yellowLight:cc.Node,greenLight:cc.Node},onLoad:function(){this.redLightScript=this.redLight.getComponent("RedLight"),this.yellowLightScript=this.yellowLight.getComponent("YellowLight"),this.greenLightScript=this.greenLight.getComponent("GreenLight"),this.timer=0},start:function(){this.redLightScript.enabled=!0},update:function(t){this.timer+=t,this.timer>=2.5&&(this.yellowLightScript.enabled=!0),this.timer>=5&&(this.greenLightScript.enabled=!0)}}),cc._RF.pop()},{}],YellowLight:[function(t,i,e){"use strict";cc._RF.push(i,"d7575jsKUlCMZSESU3ySw2X","YellowLight"),cc.Class({extends:t("RedLight")}),cc._RF.pop()},{RedLight:"RedLight"}]},{},["Entity","Light","Car","Character","CharacterSprite","GameManager","GreenLight","RedLight","TrafficLights","YellowLight"]);